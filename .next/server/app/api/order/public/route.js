/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/order/public/route";
exports.ids = ["app/api/order/public/route"];
exports.modules = {

/***/ "(rsc)/./app/api/order/public/route.ts":
/*!***************************************!*\
  !*** ./app/api/order/public/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\n\nfunction getSupabaseAdmin() {\n    const url = \"https://myqtgkuqccoedfqsdiji.supabase.co\";\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!url || !serviceRoleKey) {\n        throw new Error(\"Missing Supabase env vars: NEXT_PUBLIC_SUPABASE_URL / SUPABASE_SERVICE_ROLE_KEY\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(url, serviceRoleKey, {\n        auth: {\n            persistSession: false,\n            autoRefreshToken: false\n        }\n    });\n}\nfunction toNumber(value) {\n    if (typeof value === \"number\") return Number.isFinite(value) ? value : 0;\n    if (typeof value === \"string\") {\n        const cleaned = value.replace(\",\", \".\").replace(/[^0-9.-]/g, \"\").trim();\n        if (!cleaned) return 0;\n        const n = Number(cleaned);\n        return Number.isFinite(n) ? n : 0;\n    }\n    const n = Number(value);\n    return Number.isFinite(n) ? n : 0;\n}\nfunction normalizeDayCode(input) {\n    const v = String(input ?? \"\").trim().toUpperCase();\n    if (v === \"FRI\" || v === \"SAT\" || v === \"SUN\" || v === \"MON\") return v;\n    return null;\n}\nfunction canonicalDaySetFromCodes(dayCodes) {\n    const unique = Array.from(new Set(dayCodes.map((d)=>normalizeDayCode(d)).filter(Boolean)));\n    if (unique.length === 0) return undefined;\n    const order = [\n        \"FRI\",\n        \"SAT\",\n        \"SUN\",\n        \"MON\"\n    ];\n    const sorted = unique.sort((a, b)=>order.indexOf(a) - order.indexOf(b));\n    return sorted.join(\"+\");\n}\nfunction durationLabelFromCanonical(canonical) {\n    if (!canonical) return undefined;\n    const parts = canonical.split(\"+\").filter(Boolean);\n    if (parts.length === 1) {\n        if (parts[0] === \"FRI\") return \"Vineri\";\n        if (parts[0] === \"SAT\") return \"Sâmbătă\";\n        if (parts[0] === \"SUN\") return \"Duminică\";\n        if (parts[0] === \"MON\") return \"Luni\";\n    }\n    if (canonical === \"FRI+SUN\") return \"2 zile\";\n    if (canonical === \"FRI+MON\") return \"2 zile\";\n    if (canonical === \"SUN+MON\") return \"2 zile\";\n    if (parts.length === 2) return \"2 zile\";\n    if (parts.length === 3) return \"3 zile\";\n    if (parts.length === 4) return \"4 zile\";\n    return undefined;\n}\nfunction pickFirstNumber(source, keys) {\n    for (const key of keys){\n        if (key in source) {\n            const n = toNumber(source[key]);\n            if (n > 0) return n;\n        }\n    }\n    return 0;\n}\nfunction pickFirstString(source, keys) {\n    for (const key of keys){\n        const value = source[key];\n        if (typeof value === \"string\" && value.trim()) return value.trim();\n    }\n    return undefined;\n}\nasync function GET(req) {\n    try {\n        const token = req.nextUrl.searchParams.get(\"token\")?.trim();\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required query param: token\"\n            }, {\n                status: 400\n            });\n        }\n        const supabase = getSupabaseAdmin();\n        // 1) Order by public token\n        const { data: orderRow, error: orderError } = await supabase.from(\"orders\").select(\"*\").eq(\"public_token\", token).maybeSingle();\n        if (orderError) {\n            console.error(\"[GET /api/order/public] orders error:\", orderError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to load order\"\n            }, {\n                status: 500\n            });\n        }\n        if (!orderRow) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Order not found\"\n            }, {\n                status: 404\n            });\n        }\n        const orderAny = orderRow;\n        // 2) Order items\n        const { data: orderItemsRows, error: itemsError } = await supabase.from(\"order_items\").select(\"*\").eq(\"order_id\", orderAny.id).order(\"id\", {\n            ascending: true\n        });\n        if (itemsError) {\n            console.error(\"[GET /api/order/public] order_items error:\", itemsError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to load order items\"\n            }, {\n                status: 500\n            });\n        }\n        const orderItems = orderItemsRows ?? [];\n        console.log(\"[GET /api/order/public] order row keys:\", Object.keys(orderAny || {}));\n        console.log(\"[GET /api/order/public] raw order items (price-related sample):\", orderItems.map((item)=>({\n                id: item?.id,\n                category: item?.category,\n                qty: item?.qty,\n                quantity: item?.quantity,\n                seats: item?.seats,\n                tickets_count: item?.tickets_count,\n                unit_price: item?.unit_price,\n                price: item?.price,\n                unitPrice: item?.unitPrice,\n                total_price: item?.total_price,\n                line_total: item?.line_total,\n                total: item?.total,\n                lineTotal: item?.lineTotal,\n                amount: item?.amount,\n                subtotal: item?.subtotal,\n                final_price: item?.final_price,\n                finalPrice: item?.finalPrice,\n                product_name_snapshot: item?.product_name_snapshot,\n                name: item?.name,\n                label: item?.label\n            })));\n        const itemIds = orderItems.map((i)=>typeof i.id === \"string\" ? i.id : null).filter(Boolean);\n        // 3) Order item days (optional, non-blocking)\n        let itemDaysRows = [];\n        if (itemIds.length > 0) {\n            const { data: daysData, error: daysError } = await supabase.from(\"order_item_days\").select(\"*\").in(\"order_item_id\", itemIds);\n            if (daysError) {\n                console.warn(\"[GET /api/order/public] order_item_days warning:\", daysError);\n            } else {\n                itemDaysRows = daysData ?? [];\n            }\n        }\n        const daysByItemId = new Map();\n        for (const row of itemDaysRows){\n            const itemId = String(row.order_item_id ?? \"\").trim();\n            if (!itemId) continue;\n            const rawDay = row.day_code ?? row.event_day_code ?? row.code ?? row.day ?? null;\n            const dayCode = normalizeDayCode(rawDay);\n            if (!dayCode) continue;\n            const arr = daysByItemId.get(itemId) ?? [];\n            arr.push(dayCode);\n            daysByItemId.set(itemId, arr);\n        }\n        // 4) VIP table reservation summary (optional)\n        let vipTableSelection = orderAny.vip_table_selection ?? undefined;\n        if (!vipTableSelection) {\n            const { data: vipReservations, error: vipResErr } = await supabase.from(\"vip_table_reservations\").select(`\n            *,\n            vip_tables ( * )\n          `).eq(\"order_id\", orderAny.id);\n            if (vipResErr) {\n                console.warn(\"[GET /api/order/public] vip_table_reservations warning:\", vipResErr);\n            } else if (vipReservations && vipReservations.length > 0) {\n                const selectedTables = vipReservations.map((r)=>{\n                    const t = r.vip_tables;\n                    return t?.label || t?.name || (typeof t?.table_number === \"number\" ? `Masa ${t.table_number}` : null) || r.vip_table_id || null;\n                }).filter(Boolean);\n                const assignedVipTickets = vipReservations.reduce((sum, r)=>sum + toNumber(r.seats_reserved ?? r.seats_count ?? r.reserved_seats ?? r.qty ?? r.quantity ?? 0), 0);\n                vipTableSelection = {\n                    selectedTable: selectedTables[0] ?? undefined,\n                    selectedTables,\n                    tablesRequired: selectedTables.length || undefined,\n                    assignedVipTickets: assignedVipTickets || undefined\n                };\n            }\n        }\n        // ---- Order-level money fallbacks (YOUR schema has *_ron fields)\n        const orderLevelSubtotal = pickFirstNumber(orderAny, [\n            \"subtotal_ron\",\n            \"subtotal\",\n            \"sub_total\",\n            \"amount_subtotal\"\n        ]);\n        const orderLevelFees = pickFirstNumber(orderAny, [\n            \"fees_ron\",\n            \"fees\",\n            \"processing_fee\"\n        ]);\n        const orderLevelDiscount = pickFirstNumber(orderAny, [\n            \"discount_ron\",\n            \"discount\",\n            \"discount_amount\"\n        ]);\n        const orderLevelTotal = pickFirstNumber(orderAny, [\n            \"total_ron\",\n            \"total\",\n            \"total_amount\",\n            \"amount_total\",\n            \"grand_total\"\n        ]);\n        // Prefer total for checkout total; subtotal only if total missing\n        const orderLevelDisplayAmount = orderLevelTotal > 0 ? orderLevelTotal : Math.max(orderLevelSubtotal + orderLevelFees - orderLevelDiscount, 0);\n        // 5) Normalize response for checkout\n        const normalizedItems = orderItems.map((item, index)=>{\n            const qty = Math.max(1, toNumber(item.qty ?? item.quantity ?? item.seats ?? item.tickets_count ?? 1));\n            // Try many possible unit/line price keys from multiple schemas\n            const rawUnitPrice = item.unit_price ?? item.price ?? item.unitPrice ?? item.price_per_unit ?? item.unit_amount ?? item.amount_per_unit ?? item.price_ron ?? item.unit_price_ron ?? null;\n            const rawTotalPrice = item.total_price ?? item.line_total ?? item.total ?? item.lineTotal ?? item.totalAmount ?? item.total_amount ?? item.subtotal ?? item.amount ?? item.final_price ?? item.finalPrice ?? item.gross_total ?? item.total_ron ?? item.line_total_ron ?? item.subtotal_ron ?? null;\n            const unitPrice = toNumber(rawUnitPrice);\n            const totalPrice = toNumber(rawTotalPrice);\n            // Per-item fallback:\n            // - if line total missing and only one item in order, use order total\n            // - otherwise leave 0 for now, later we'll distribute at order level\n            const finalTotalPrice = totalPrice > 0 ? totalPrice : orderItems.length === 1 && orderLevelDisplayAmount > 0 ? orderLevelDisplayAmount : 0;\n            const finalUnitPrice = unitPrice > 0 ? unitPrice : finalTotalPrice > 0 ? finalTotalPrice / qty : 0;\n            console.log(\"[GET /api/order/public] normalized item pricing\", {\n                id: item?.id,\n                index,\n                rawQty: {\n                    qty: item?.qty,\n                    quantity: item?.quantity,\n                    seats: item?.seats,\n                    tickets_count: item?.tickets_count\n                },\n                rawUnitPrice,\n                rawTotalPrice,\n                parsed: {\n                    qty,\n                    unitPrice,\n                    totalPrice,\n                    finalUnitPrice,\n                    finalTotalPrice,\n                    orderLevelSubtotal,\n                    orderLevelTotal,\n                    orderLevelDisplayAmount\n                },\n                rawPriceFields: {\n                    unit_price: item?.unit_price,\n                    price: item?.price,\n                    unitPrice: item?.unitPrice,\n                    price_per_unit: item?.price_per_unit,\n                    unit_amount: item?.unit_amount,\n                    total_price: item?.total_price,\n                    line_total: item?.line_total,\n                    total: item?.total,\n                    lineTotal: item?.lineTotal,\n                    totalAmount: item?.totalAmount,\n                    total_amount: item?.total_amount,\n                    subtotal: item?.subtotal,\n                    amount: item?.amount,\n                    final_price: item?.final_price,\n                    finalPrice: item?.finalPrice,\n                    total_ron: item?.total_ron,\n                    subtotal_ron: item?.subtotal_ron\n                }\n            });\n            const itemId = String(item.id ?? \"\");\n            const itemDayCodes = itemId ? daysByItemId.get(itemId) ?? [] : [];\n            const canonical_day_set = canonicalDaySetFromCodes(itemDayCodes);\n            const category = String(item.category ?? \"general\").toLowerCase() === \"vip\" ? \"vip\" : \"general\";\n            const name = pickFirstString(item, [\n                \"name\",\n                \"label\",\n                \"product_name_snapshot\",\n                \"ticket_name\",\n                \"product_name\",\n                \"title\"\n            ]) ?? `Bilet ${index + 1}`;\n            return {\n                id: itemId || `item-${index + 1}`,\n                qty,\n                quantity: qty,\n                category,\n                name,\n                label: pickFirstString(item, [\n                    \"label\",\n                    \"name\"\n                ]) ?? name,\n                unitPrice: finalUnitPrice,\n                unit_price: finalUnitPrice,\n                price: finalUnitPrice,\n                totalPrice: finalTotalPrice,\n                lineTotal: finalTotalPrice,\n                line_total: finalTotalPrice,\n                variantLabel: typeof item.variant_label === \"string\" ? item.variant_label : typeof item.variantLabel === \"string\" ? item.variantLabel : null,\n                durationLabel: (typeof item.duration_label === \"string\" ? item.duration_label : undefined) ?? (typeof item.durationLabel === \"string\" ? item.durationLabel : undefined) ?? durationLabelFromCanonical(canonical_day_set),\n                canonical_day_set\n            };\n        });\n        // 6) Force item-level prices from order totals when DB stores only order total\n        // (your logs show this exact scenario)\n        const allItemsMissingPrices = normalizedItems.length > 0 && normalizedItems.every((i)=>toNumber(i.totalPrice ?? i.lineTotal) <= 0 && toNumber(i.unitPrice ?? i.price) <= 0);\n        if (allItemsMissingPrices && orderLevelDisplayAmount > 0) {\n            const totalQty = normalizedItems.reduce((sum, i)=>sum + Math.max(1, toNumber(i.qty ?? i.quantity)), 0);\n            if (normalizedItems.length === 1 || totalQty <= 0) {\n                const first = normalizedItems[0];\n                if (first) {\n                    const qty = Math.max(1, toNumber(first.qty ?? first.quantity));\n                    first.totalPrice = orderLevelDisplayAmount;\n                    first.lineTotal = orderLevelDisplayAmount;\n                    first.line_total = orderLevelDisplayAmount;\n                    first.unitPrice = orderLevelDisplayAmount / qty;\n                    first.unit_price = first.unitPrice;\n                    first.price = first.unitPrice;\n                }\n            } else {\n                // Proportional by quantity (best possible when no per-item prices exist)\n                let remaining = Math.round(orderLevelDisplayAmount * 100) / 100;\n                let remainingQty = totalQty;\n                normalizedItems.forEach((item, idx)=>{\n                    const qty = Math.max(1, toNumber(item.qty ?? item.quantity));\n                    if (idx === normalizedItems.length - 1) {\n                        const line = Math.max(0, Math.round(remaining * 100) / 100);\n                        item.totalPrice = line;\n                        item.lineTotal = line;\n                        item.line_total = line;\n                        item.unitPrice = qty > 0 ? line / qty : line;\n                        item.unit_price = item.unitPrice;\n                        item.price = item.unitPrice;\n                        return;\n                    }\n                    const proportional = remainingQty > 0 ? remaining * qty / remainingQty : 0;\n                    const line = Math.max(0, Math.round(proportional * 100) / 100);\n                    item.totalPrice = line;\n                    item.lineTotal = line;\n                    item.line_total = line;\n                    item.unitPrice = qty > 0 ? line / qty : line;\n                    item.unit_price = item.unitPrice;\n                    item.price = item.unitPrice;\n                    remaining = Math.max(0, Math.round((remaining - line) * 100) / 100);\n                    remainingQty -= qty;\n                });\n            }\n            console.log(\"[GET /api/order/public] forced item price fallback from order totals\", {\n                orderLevelSubtotal,\n                orderLevelFees,\n                orderLevelDiscount,\n                orderLevelTotal,\n                orderLevelDisplayAmount,\n                items: normalizedItems.map((i)=>({\n                        id: i.id,\n                        qty: i.qty,\n                        unitPrice: i.unitPrice,\n                        totalPrice: i.totalPrice\n                    }))\n            });\n        }\n        console.log(\"[GET /api/order/public] normalized items summary:\", normalizedItems.map((i)=>({\n                id: i.id,\n                category: i.category,\n                qty: i.qty,\n                unitPrice: i.unitPrice,\n                totalPrice: i.totalPrice,\n                name: i.name\n            })));\n        const computedTotalItems = normalizedItems.reduce((sum, item)=>sum + toNumber(item.qty ?? item.quantity), 0);\n        const computedItemsAmount = normalizedItems.reduce((sum, item)=>sum + toNumber(item.totalPrice ?? item.lineTotal), 0);\n        const response = {\n            order: {\n                id: orderAny.id,\n                publicToken: orderAny.public_token,\n                status: orderAny.status ?? null,\n                currency: orderAny.currency ?? \"RON\",\n                hasVip: typeof orderAny.has_vip === \"boolean\" ? orderAny.has_vip : normalizedItems.some((i)=>i.category === \"vip\"),\n                totalItems: toNumber(orderAny.total_items) > 0 ? toNumber(orderAny.total_items) : computedTotalItems,\n                // Prefer item-sum if computed; else order total; else subtotal\n                totalAmount: computedItemsAmount > 0 ? Math.round(computedItemsAmount * 100) / 100 : orderLevelDisplayAmount > 0 ? Math.round(orderLevelDisplayAmount * 100) / 100 : orderLevelSubtotal,\n                items: normalizedItems,\n                vipTableSelection: vipTableSelection ?? undefined\n            }\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response, {\n            status: 200,\n            headers: {\n                \"Cache-Control\": \"no-store\"\n            }\n        });\n    } catch (error) {\n        console.error(\"[GET /api/order/public] unexpected error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxDQUFDNEQsSUFBSSxDQUFDK0gsVUFBVTtZQUNqQzdILFFBQVE7WUFDUnNJLFNBQVM7Z0JBQ1AsaUJBQWlCO1lBQ25CO1FBQ0Y7SUFDRixFQUFFLE9BQU92SSxPQUFPO1FBQ2RTLFFBQVFULEtBQUssQ0FBQyw2Q0FBNkNBO1FBQzNELE9BQU83RCxxREFBWUEsQ0FBQzRELElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF3QixHQUNqQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL21paG5lYXNtYWNib29rYWlyL0Rlc2t0b3AvV29yay9iYW5hdG9uLWZlc3QvYXBwL2FwaS9vcmRlci9wdWJsaWMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuXG50eXBlIERheUNvZGUgPSBcIkZSSVwiIHwgXCJTQVRcIiB8IFwiU1VOXCIgfCBcIk1PTlwiO1xuXG5mdW5jdGlvbiBnZXRTdXBhYmFzZUFkbWluKCkge1xuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gIGNvbnN0IHNlcnZpY2VSb2xlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWTtcblxuICBpZiAoIXVybCB8fCAhc2VydmljZVJvbGVLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIk1pc3NpbmcgU3VwYWJhc2UgZW52IHZhcnM6IE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCAvIFNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVlcIixcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUNsaWVudCh1cmwsIHNlcnZpY2VSb2xlS2V5LCB7XG4gICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlIH0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZTogdW5rbm93bik6IG51bWJlciB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHJldHVybiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiAwO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBjbGVhbmVkID0gdmFsdWVcbiAgICAgIC5yZXBsYWNlKFwiLFwiLCBcIi5cIilcbiAgICAgIC5yZXBsYWNlKC9bXjAtOS4tXS9nLCBcIlwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBpZiAoIWNsZWFuZWQpIHJldHVybiAwO1xuICAgIGNvbnN0IG4gPSBOdW1iZXIoY2xlYW5lZCk7XG4gICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiAwO1xuICB9XG5cbiAgY29uc3QgbiA9IE51bWJlcih2YWx1ZSk7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogMDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGF5Q29kZShpbnB1dDogdW5rbm93bik6IERheUNvZGUgfCBudWxsIHtcbiAgY29uc3QgdiA9IFN0cmluZyhpbnB1dCA/PyBcIlwiKVxuICAgIC50cmltKClcbiAgICAudG9VcHBlckNhc2UoKTtcblxuICBpZiAodiA9PT0gXCJGUklcIiB8fCB2ID09PSBcIlNBVFwiIHx8IHYgPT09IFwiU1VOXCIgfHwgdiA9PT0gXCJNT05cIikgcmV0dXJuIHY7XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjYW5vbmljYWxEYXlTZXRGcm9tQ29kZXMoZGF5Q29kZXM6IHN0cmluZ1tdKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgdW5pcXVlID0gQXJyYXkuZnJvbShcbiAgICBuZXcgU2V0KFxuICAgICAgZGF5Q29kZXMubWFwKChkKSA9PiBub3JtYWxpemVEYXlDb2RlKGQpKS5maWx0ZXIoQm9vbGVhbikgYXMgRGF5Q29kZVtdLFxuICAgICksXG4gICk7XG5cbiAgaWYgKHVuaXF1ZS5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgb3JkZXI6IERheUNvZGVbXSA9IFtcIkZSSVwiLCBcIlNBVFwiLCBcIlNVTlwiLCBcIk1PTlwiXTtcbiAgY29uc3Qgc29ydGVkID0gdW5pcXVlLnNvcnQoKGEsIGIpID0+IG9yZGVyLmluZGV4T2YoYSkgLSBvcmRlci5pbmRleE9mKGIpKTtcblxuICByZXR1cm4gc29ydGVkLmpvaW4oXCIrXCIpO1xufVxuXG5mdW5jdGlvbiBkdXJhdGlvbkxhYmVsRnJvbUNhbm9uaWNhbChjYW5vbmljYWw/OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAoIWNhbm9uaWNhbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgcGFydHMgPSBjYW5vbmljYWwuc3BsaXQoXCIrXCIpLmZpbHRlcihCb29sZWFuKTtcblxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKHBhcnRzWzBdID09PSBcIkZSSVwiKSByZXR1cm4gXCJWaW5lcmlcIjtcbiAgICBpZiAocGFydHNbMF0gPT09IFwiU0FUXCIpIHJldHVybiBcIlPDom1ixIN0xINcIjtcbiAgICBpZiAocGFydHNbMF0gPT09IFwiU1VOXCIpIHJldHVybiBcIkR1bWluaWPEg1wiO1xuICAgIGlmIChwYXJ0c1swXSA9PT0gXCJNT05cIikgcmV0dXJuIFwiTHVuaVwiO1xuICB9XG5cbiAgaWYgKGNhbm9uaWNhbCA9PT0gXCJGUkkrU1VOXCIpIHJldHVybiBcIjIgemlsZVwiO1xuICBpZiAoY2Fub25pY2FsID09PSBcIkZSSStNT05cIikgcmV0dXJuIFwiMiB6aWxlXCI7XG4gIGlmIChjYW5vbmljYWwgPT09IFwiU1VOK01PTlwiKSByZXR1cm4gXCIyIHppbGVcIjtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIFwiMiB6aWxlXCI7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHJldHVybiBcIjMgemlsZVwiO1xuICBpZiAocGFydHMubGVuZ3RoID09PSA0KSByZXR1cm4gXCI0IHppbGVcIjtcblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBwaWNrRmlyc3ROdW1iZXIoXG4gIHNvdXJjZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIGtleXM6IHN0cmluZ1tdLFxuKTogbnVtYmVyIHtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGlmIChrZXkgaW4gc291cmNlKSB7XG4gICAgICBjb25zdCBuID0gdG9OdW1iZXIoc291cmNlW2tleV0pO1xuICAgICAgaWYgKG4gPiAwKSByZXR1cm4gbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIHBpY2tGaXJzdFN0cmluZyhcbiAgc291cmNlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAga2V5czogc3RyaW5nW10sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlLnRyaW0oKSkgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ0b2tlblwiKT8udHJpbSgpO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIk1pc3NpbmcgcmVxdWlyZWQgcXVlcnkgcGFyYW06IHRva2VuXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQWRtaW4oKTtcblxuICAgIC8vIDEpIE9yZGVyIGJ5IHB1YmxpYyB0b2tlblxuICAgIGNvbnN0IHsgZGF0YTogb3JkZXJSb3csIGVycm9yOiBvcmRlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJvcmRlcnNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJwdWJsaWNfdG9rZW5cIiwgdG9rZW4pXG4gICAgICAubWF5YmVTaW5nbGUoKTtcblxuICAgIGlmIChvcmRlckVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW0dFVCAvYXBpL29yZGVyL3B1YmxpY10gb3JkZXJzIGVycm9yOlwiLCBvcmRlckVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gbG9hZCBvcmRlclwiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFvcmRlclJvdykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiT3JkZXIgbm90IGZvdW5kXCIgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmRlckFueSA9IG9yZGVyUm93IGFzIFJlY29yZDxzdHJpbmcsIGFueT47XG5cbiAgICAvLyAyKSBPcmRlciBpdGVtc1xuICAgIGNvbnN0IHsgZGF0YTogb3JkZXJJdGVtc1Jvd3MsIGVycm9yOiBpdGVtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJvcmRlcl9pdGVtc1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcIm9yZGVyX2lkXCIsIG9yZGVyQW55LmlkKVxuICAgICAgLm9yZGVyKFwiaWRcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG5cbiAgICBpZiAoaXRlbXNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltHRVQgL2FwaS9vcmRlci9wdWJsaWNdIG9yZGVyX2l0ZW1zIGVycm9yOlwiLCBpdGVtc0Vycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gbG9hZCBvcmRlciBpdGVtc1wiIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JkZXJJdGVtcyA9IChvcmRlckl0ZW1zUm93cyA/PyBbXSkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJbR0VUIC9hcGkvb3JkZXIvcHVibGljXSBvcmRlciByb3cga2V5czpcIixcbiAgICAgIE9iamVjdC5rZXlzKG9yZGVyQW55IHx8IHt9KSxcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJbR0VUIC9hcGkvb3JkZXIvcHVibGljXSByYXcgb3JkZXIgaXRlbXMgKHByaWNlLXJlbGF0ZWQgc2FtcGxlKTpcIixcbiAgICAgIG9yZGVySXRlbXMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICBpZDogaXRlbT8uaWQsXG4gICAgICAgIGNhdGVnb3J5OiBpdGVtPy5jYXRlZ29yeSxcbiAgICAgICAgcXR5OiBpdGVtPy5xdHksXG4gICAgICAgIHF1YW50aXR5OiBpdGVtPy5xdWFudGl0eSxcbiAgICAgICAgc2VhdHM6IGl0ZW0/LnNlYXRzLFxuICAgICAgICB0aWNrZXRzX2NvdW50OiBpdGVtPy50aWNrZXRzX2NvdW50LFxuICAgICAgICB1bml0X3ByaWNlOiBpdGVtPy51bml0X3ByaWNlLFxuICAgICAgICBwcmljZTogaXRlbT8ucHJpY2UsXG4gICAgICAgIHVuaXRQcmljZTogaXRlbT8udW5pdFByaWNlLFxuICAgICAgICB0b3RhbF9wcmljZTogaXRlbT8udG90YWxfcHJpY2UsXG4gICAgICAgIGxpbmVfdG90YWw6IGl0ZW0/LmxpbmVfdG90YWwsXG4gICAgICAgIHRvdGFsOiBpdGVtPy50b3RhbCxcbiAgICAgICAgbGluZVRvdGFsOiBpdGVtPy5saW5lVG90YWwsXG4gICAgICAgIGFtb3VudDogaXRlbT8uYW1vdW50LFxuICAgICAgICBzdWJ0b3RhbDogaXRlbT8uc3VidG90YWwsXG4gICAgICAgIGZpbmFsX3ByaWNlOiBpdGVtPy5maW5hbF9wcmljZSxcbiAgICAgICAgZmluYWxQcmljZTogaXRlbT8uZmluYWxQcmljZSxcbiAgICAgICAgcHJvZHVjdF9uYW1lX3NuYXBzaG90OiBpdGVtPy5wcm9kdWN0X25hbWVfc25hcHNob3QsXG4gICAgICAgIG5hbWU6IGl0ZW0/Lm5hbWUsXG4gICAgICAgIGxhYmVsOiBpdGVtPy5sYWJlbCxcbiAgICAgIH0pKSxcbiAgICApO1xuXG4gICAgY29uc3QgaXRlbUlkcyA9IG9yZGVySXRlbXNcbiAgICAgIC5tYXAoKGkpID0+ICh0eXBlb2YgaS5pZCA9PT0gXCJzdHJpbmdcIiA/IGkuaWQgOiBudWxsKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XG5cbiAgICAvLyAzKSBPcmRlciBpdGVtIGRheXMgKG9wdGlvbmFsLCBub24tYmxvY2tpbmcpXG4gICAgbGV0IGl0ZW1EYXlzUm93czogQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gW107XG5cbiAgICBpZiAoaXRlbUlkcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGRheXNEYXRhLCBlcnJvcjogZGF5c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcIm9yZGVyX2l0ZW1fZGF5c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuaW4oXCJvcmRlcl9pdGVtX2lkXCIsIGl0ZW1JZHMpO1xuXG4gICAgICBpZiAoZGF5c0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIltHRVQgL2FwaS9vcmRlci9wdWJsaWNdIG9yZGVyX2l0ZW1fZGF5cyB3YXJuaW5nOlwiLFxuICAgICAgICAgIGRheXNFcnJvcixcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW1EYXlzUm93cyA9IChkYXlzRGF0YSA/PyBbXSkgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRheXNCeUl0ZW1JZCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiBpdGVtRGF5c1Jvd3MpIHtcbiAgICAgIGNvbnN0IGl0ZW1JZCA9IFN0cmluZyhyb3cub3JkZXJfaXRlbV9pZCA/PyBcIlwiKS50cmltKCk7XG4gICAgICBpZiAoIWl0ZW1JZCkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHJhd0RheSA9XG4gICAgICAgIHJvdy5kYXlfY29kZSA/PyByb3cuZXZlbnRfZGF5X2NvZGUgPz8gcm93LmNvZGUgPz8gcm93LmRheSA/PyBudWxsO1xuICAgICAgY29uc3QgZGF5Q29kZSA9IG5vcm1hbGl6ZURheUNvZGUocmF3RGF5KTtcbiAgICAgIGlmICghZGF5Q29kZSkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGFyciA9IGRheXNCeUl0ZW1JZC5nZXQoaXRlbUlkKSA/PyBbXTtcbiAgICAgIGFyci5wdXNoKGRheUNvZGUpO1xuICAgICAgZGF5c0J5SXRlbUlkLnNldChpdGVtSWQsIGFycik7XG4gICAgfVxuXG4gICAgLy8gNCkgVklQIHRhYmxlIHJlc2VydmF0aW9uIHN1bW1hcnkgKG9wdGlvbmFsKVxuICAgIGxldCB2aXBUYWJsZVNlbGVjdGlvbjpcbiAgICAgIHwge1xuICAgICAgICAgIHNlbGVjdGVkVGFibGU/OiBzdHJpbmc7XG4gICAgICAgICAgc2VsZWN0ZWRUYWJsZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgICB0YWJsZXNSZXF1aXJlZD86IG51bWJlcjtcbiAgICAgICAgICBhc3NpZ25lZFZpcFRpY2tldHM/OiBudW1iZXI7XG4gICAgICAgIH1cbiAgICAgIHwgdW5kZWZpbmVkID1cbiAgICAgIChvcmRlckFueS52aXBfdGFibGVfc2VsZWN0aW9uIGFzIHtcbiAgICAgICAgc2VsZWN0ZWRUYWJsZT86IHN0cmluZztcbiAgICAgICAgc2VsZWN0ZWRUYWJsZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgdGFibGVzUmVxdWlyZWQ/OiBudW1iZXI7XG4gICAgICAgIGFzc2lnbmVkVmlwVGlja2V0cz86IG51bWJlcjtcbiAgICAgIH0gfCBudWxsKSA/PyB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXZpcFRhYmxlU2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHZpcFJlc2VydmF0aW9ucywgZXJyb3I6IHZpcFJlc0VyciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJ2aXBfdGFibGVfcmVzZXJ2YXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXG4gICAgICAgICAgYFxuICAgICAgICAgICAgKixcbiAgICAgICAgICAgIHZpcF90YWJsZXMgKCAqIClcbiAgICAgICAgICBgLFxuICAgICAgICApXG4gICAgICAgIC5lcShcIm9yZGVyX2lkXCIsIG9yZGVyQW55LmlkKTtcblxuICAgICAgaWYgKHZpcFJlc0Vycikge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJbR0VUIC9hcGkvb3JkZXIvcHVibGljXSB2aXBfdGFibGVfcmVzZXJ2YXRpb25zIHdhcm5pbmc6XCIsXG4gICAgICAgICAgdmlwUmVzRXJyLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh2aXBSZXNlcnZhdGlvbnMgJiYgdmlwUmVzZXJ2YXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRUYWJsZXMgPSAodmlwUmVzZXJ2YXRpb25zIGFzIGFueVtdKVxuICAgICAgICAgIC5tYXAoKHI6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IHIudmlwX3RhYmxlcztcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHQ/LmxhYmVsIHx8XG4gICAgICAgICAgICAgIHQ/Lm5hbWUgfHxcbiAgICAgICAgICAgICAgKHR5cGVvZiB0Py50YWJsZV9udW1iZXIgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICA/IGBNYXNhICR7dC50YWJsZV9udW1iZXJ9YFxuICAgICAgICAgICAgICAgIDogbnVsbCkgfHxcbiAgICAgICAgICAgICAgci52aXBfdGFibGVfaWQgfHxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgICAgY29uc3QgYXNzaWduZWRWaXBUaWNrZXRzID0gKHZpcFJlc2VydmF0aW9ucyBhcyBhbnlbXSkucmVkdWNlKFxuICAgICAgICAgIChzdW06IG51bWJlciwgcjogYW55KSA9PlxuICAgICAgICAgICAgc3VtICtcbiAgICAgICAgICAgIHRvTnVtYmVyKFxuICAgICAgICAgICAgICByLnNlYXRzX3Jlc2VydmVkID8/XG4gICAgICAgICAgICAgICAgci5zZWF0c19jb3VudCA/P1xuICAgICAgICAgICAgICAgIHIucmVzZXJ2ZWRfc2VhdHMgPz9cbiAgICAgICAgICAgICAgICByLnF0eSA/P1xuICAgICAgICAgICAgICAgIHIucXVhbnRpdHkgPz9cbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAwLFxuICAgICAgICApO1xuXG4gICAgICAgIHZpcFRhYmxlU2VsZWN0aW9uID0ge1xuICAgICAgICAgIHNlbGVjdGVkVGFibGU6IHNlbGVjdGVkVGFibGVzWzBdID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICBzZWxlY3RlZFRhYmxlcyxcbiAgICAgICAgICB0YWJsZXNSZXF1aXJlZDogc2VsZWN0ZWRUYWJsZXMubGVuZ3RoIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBhc3NpZ25lZFZpcFRpY2tldHM6IGFzc2lnbmVkVmlwVGlja2V0cyB8fCB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gLS0tLSBPcmRlci1sZXZlbCBtb25leSBmYWxsYmFja3MgKFlPVVIgc2NoZW1hIGhhcyAqX3JvbiBmaWVsZHMpXG4gICAgY29uc3Qgb3JkZXJMZXZlbFN1YnRvdGFsID0gcGlja0ZpcnN0TnVtYmVyKG9yZGVyQW55LCBbXG4gICAgICBcInN1YnRvdGFsX3JvblwiLFxuICAgICAgXCJzdWJ0b3RhbFwiLFxuICAgICAgXCJzdWJfdG90YWxcIixcbiAgICAgIFwiYW1vdW50X3N1YnRvdGFsXCIsXG4gICAgXSk7XG5cbiAgICBjb25zdCBvcmRlckxldmVsRmVlcyA9IHBpY2tGaXJzdE51bWJlcihvcmRlckFueSwgW1xuICAgICAgXCJmZWVzX3JvblwiLFxuICAgICAgXCJmZWVzXCIsXG4gICAgICBcInByb2Nlc3NpbmdfZmVlXCIsXG4gICAgXSk7XG5cbiAgICBjb25zdCBvcmRlckxldmVsRGlzY291bnQgPSBwaWNrRmlyc3ROdW1iZXIob3JkZXJBbnksIFtcbiAgICAgIFwiZGlzY291bnRfcm9uXCIsXG4gICAgICBcImRpc2NvdW50XCIsXG4gICAgICBcImRpc2NvdW50X2Ftb3VudFwiLFxuICAgIF0pO1xuXG4gICAgY29uc3Qgb3JkZXJMZXZlbFRvdGFsID0gcGlja0ZpcnN0TnVtYmVyKG9yZGVyQW55LCBbXG4gICAgICBcInRvdGFsX3JvblwiLFxuICAgICAgXCJ0b3RhbFwiLFxuICAgICAgXCJ0b3RhbF9hbW91bnRcIixcbiAgICAgIFwiYW1vdW50X3RvdGFsXCIsXG4gICAgICBcImdyYW5kX3RvdGFsXCIsXG4gICAgXSk7XG5cbiAgICAvLyBQcmVmZXIgdG90YWwgZm9yIGNoZWNrb3V0IHRvdGFsOyBzdWJ0b3RhbCBvbmx5IGlmIHRvdGFsIG1pc3NpbmdcbiAgICBjb25zdCBvcmRlckxldmVsRGlzcGxheUFtb3VudCA9XG4gICAgICBvcmRlckxldmVsVG90YWwgPiAwXG4gICAgICAgID8gb3JkZXJMZXZlbFRvdGFsXG4gICAgICAgIDogTWF0aC5tYXgob3JkZXJMZXZlbFN1YnRvdGFsICsgb3JkZXJMZXZlbEZlZXMgLSBvcmRlckxldmVsRGlzY291bnQsIDApO1xuXG4gICAgLy8gNSkgTm9ybWFsaXplIHJlc3BvbnNlIGZvciBjaGVja291dFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRJdGVtcyA9IG9yZGVySXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcXR5ID0gTWF0aC5tYXgoXG4gICAgICAgIDEsXG4gICAgICAgIHRvTnVtYmVyKFxuICAgICAgICAgIGl0ZW0ucXR5ID8/IGl0ZW0ucXVhbnRpdHkgPz8gaXRlbS5zZWF0cyA/PyBpdGVtLnRpY2tldHNfY291bnQgPz8gMSxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIFRyeSBtYW55IHBvc3NpYmxlIHVuaXQvbGluZSBwcmljZSBrZXlzIGZyb20gbXVsdGlwbGUgc2NoZW1hc1xuICAgICAgY29uc3QgcmF3VW5pdFByaWNlID1cbiAgICAgICAgaXRlbS51bml0X3ByaWNlID8/XG4gICAgICAgIGl0ZW0ucHJpY2UgPz9cbiAgICAgICAgaXRlbS51bml0UHJpY2UgPz9cbiAgICAgICAgaXRlbS5wcmljZV9wZXJfdW5pdCA/P1xuICAgICAgICBpdGVtLnVuaXRfYW1vdW50ID8/XG4gICAgICAgIGl0ZW0uYW1vdW50X3Blcl91bml0ID8/XG4gICAgICAgIGl0ZW0ucHJpY2Vfcm9uID8/XG4gICAgICAgIGl0ZW0udW5pdF9wcmljZV9yb24gPz9cbiAgICAgICAgbnVsbDtcblxuICAgICAgY29uc3QgcmF3VG90YWxQcmljZSA9XG4gICAgICAgIGl0ZW0udG90YWxfcHJpY2UgPz9cbiAgICAgICAgaXRlbS5saW5lX3RvdGFsID8/XG4gICAgICAgIGl0ZW0udG90YWwgPz9cbiAgICAgICAgaXRlbS5saW5lVG90YWwgPz9cbiAgICAgICAgaXRlbS50b3RhbEFtb3VudCA/P1xuICAgICAgICBpdGVtLnRvdGFsX2Ftb3VudCA/P1xuICAgICAgICBpdGVtLnN1YnRvdGFsID8/XG4gICAgICAgIGl0ZW0uYW1vdW50ID8/XG4gICAgICAgIGl0ZW0uZmluYWxfcHJpY2UgPz9cbiAgICAgICAgaXRlbS5maW5hbFByaWNlID8/XG4gICAgICAgIGl0ZW0uZ3Jvc3NfdG90YWwgPz9cbiAgICAgICAgaXRlbS50b3RhbF9yb24gPz9cbiAgICAgICAgaXRlbS5saW5lX3RvdGFsX3JvbiA/P1xuICAgICAgICBpdGVtLnN1YnRvdGFsX3JvbiA/P1xuICAgICAgICBudWxsO1xuXG4gICAgICBjb25zdCB1bml0UHJpY2UgPSB0b051bWJlcihyYXdVbml0UHJpY2UpO1xuICAgICAgY29uc3QgdG90YWxQcmljZSA9IHRvTnVtYmVyKHJhd1RvdGFsUHJpY2UpO1xuXG4gICAgICAvLyBQZXItaXRlbSBmYWxsYmFjazpcbiAgICAgIC8vIC0gaWYgbGluZSB0b3RhbCBtaXNzaW5nIGFuZCBvbmx5IG9uZSBpdGVtIGluIG9yZGVyLCB1c2Ugb3JkZXIgdG90YWxcbiAgICAgIC8vIC0gb3RoZXJ3aXNlIGxlYXZlIDAgZm9yIG5vdywgbGF0ZXIgd2UnbGwgZGlzdHJpYnV0ZSBhdCBvcmRlciBsZXZlbFxuICAgICAgY29uc3QgZmluYWxUb3RhbFByaWNlID1cbiAgICAgICAgdG90YWxQcmljZSA+IDBcbiAgICAgICAgICA/IHRvdGFsUHJpY2VcbiAgICAgICAgICA6IG9yZGVySXRlbXMubGVuZ3RoID09PSAxICYmIG9yZGVyTGV2ZWxEaXNwbGF5QW1vdW50ID4gMFxuICAgICAgICAgICAgPyBvcmRlckxldmVsRGlzcGxheUFtb3VudFxuICAgICAgICAgICAgOiAwO1xuXG4gICAgICBjb25zdCBmaW5hbFVuaXRQcmljZSA9XG4gICAgICAgIHVuaXRQcmljZSA+IDBcbiAgICAgICAgICA/IHVuaXRQcmljZVxuICAgICAgICAgIDogZmluYWxUb3RhbFByaWNlID4gMFxuICAgICAgICAgICAgPyBmaW5hbFRvdGFsUHJpY2UgLyBxdHlcbiAgICAgICAgICAgIDogMDtcblxuICAgICAgY29uc29sZS5sb2coXCJbR0VUIC9hcGkvb3JkZXIvcHVibGljXSBub3JtYWxpemVkIGl0ZW0gcHJpY2luZ1wiLCB7XG4gICAgICAgIGlkOiBpdGVtPy5pZCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHJhd1F0eToge1xuICAgICAgICAgIHF0eTogaXRlbT8ucXR5LFxuICAgICAgICAgIHF1YW50aXR5OiBpdGVtPy5xdWFudGl0eSxcbiAgICAgICAgICBzZWF0czogaXRlbT8uc2VhdHMsXG4gICAgICAgICAgdGlja2V0c19jb3VudDogaXRlbT8udGlja2V0c19jb3VudCxcbiAgICAgICAgfSxcbiAgICAgICAgcmF3VW5pdFByaWNlLFxuICAgICAgICByYXdUb3RhbFByaWNlLFxuICAgICAgICBwYXJzZWQ6IHtcbiAgICAgICAgICBxdHksXG4gICAgICAgICAgdW5pdFByaWNlLFxuICAgICAgICAgIHRvdGFsUHJpY2UsXG4gICAgICAgICAgZmluYWxVbml0UHJpY2UsXG4gICAgICAgICAgZmluYWxUb3RhbFByaWNlLFxuICAgICAgICAgIG9yZGVyTGV2ZWxTdWJ0b3RhbCxcbiAgICAgICAgICBvcmRlckxldmVsVG90YWwsXG4gICAgICAgICAgb3JkZXJMZXZlbERpc3BsYXlBbW91bnQsXG4gICAgICAgIH0sXG4gICAgICAgIHJhd1ByaWNlRmllbGRzOiB7XG4gICAgICAgICAgdW5pdF9wcmljZTogaXRlbT8udW5pdF9wcmljZSxcbiAgICAgICAgICBwcmljZTogaXRlbT8ucHJpY2UsXG4gICAgICAgICAgdW5pdFByaWNlOiBpdGVtPy51bml0UHJpY2UsXG4gICAgICAgICAgcHJpY2VfcGVyX3VuaXQ6IGl0ZW0/LnByaWNlX3Blcl91bml0LFxuICAgICAgICAgIHVuaXRfYW1vdW50OiBpdGVtPy51bml0X2Ftb3VudCxcbiAgICAgICAgICB0b3RhbF9wcmljZTogaXRlbT8udG90YWxfcHJpY2UsXG4gICAgICAgICAgbGluZV90b3RhbDogaXRlbT8ubGluZV90b3RhbCxcbiAgICAgICAgICB0b3RhbDogaXRlbT8udG90YWwsXG4gICAgICAgICAgbGluZVRvdGFsOiBpdGVtPy5saW5lVG90YWwsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IGl0ZW0/LnRvdGFsQW1vdW50LFxuICAgICAgICAgIHRvdGFsX2Ftb3VudDogaXRlbT8udG90YWxfYW1vdW50LFxuICAgICAgICAgIHN1YnRvdGFsOiBpdGVtPy5zdWJ0b3RhbCxcbiAgICAgICAgICBhbW91bnQ6IGl0ZW0/LmFtb3VudCxcbiAgICAgICAgICBmaW5hbF9wcmljZTogaXRlbT8uZmluYWxfcHJpY2UsXG4gICAgICAgICAgZmluYWxQcmljZTogaXRlbT8uZmluYWxQcmljZSxcbiAgICAgICAgICB0b3RhbF9yb246IGl0ZW0/LnRvdGFsX3JvbixcbiAgICAgICAgICBzdWJ0b3RhbF9yb246IGl0ZW0/LnN1YnRvdGFsX3JvbixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpdGVtSWQgPSBTdHJpbmcoaXRlbS5pZCA/PyBcIlwiKTtcbiAgICAgIGNvbnN0IGl0ZW1EYXlDb2RlcyA9IGl0ZW1JZCA/IChkYXlzQnlJdGVtSWQuZ2V0KGl0ZW1JZCkgPz8gW10pIDogW107XG4gICAgICBjb25zdCBjYW5vbmljYWxfZGF5X3NldCA9IGNhbm9uaWNhbERheVNldEZyb21Db2RlcyhpdGVtRGF5Q29kZXMpO1xuXG4gICAgICBjb25zdCBjYXRlZ29yeSA9XG4gICAgICAgIFN0cmluZyhpdGVtLmNhdGVnb3J5ID8/IFwiZ2VuZXJhbFwiKS50b0xvd2VyQ2FzZSgpID09PSBcInZpcFwiXG4gICAgICAgICAgPyBcInZpcFwiXG4gICAgICAgICAgOiBcImdlbmVyYWxcIjtcblxuICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgIHBpY2tGaXJzdFN0cmluZyhpdGVtLCBbXG4gICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgXCJsYWJlbFwiLFxuICAgICAgICAgIFwicHJvZHVjdF9uYW1lX3NuYXBzaG90XCIsXG4gICAgICAgICAgXCJ0aWNrZXRfbmFtZVwiLFxuICAgICAgICAgIFwicHJvZHVjdF9uYW1lXCIsXG4gICAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBdKSA/PyBgQmlsZXQgJHtpbmRleCArIDF9YDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGl0ZW1JZCB8fCBgaXRlbS0ke2luZGV4ICsgMX1gLFxuICAgICAgICBxdHksXG4gICAgICAgIHF1YW50aXR5OiBxdHksXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBuYW1lLFxuICAgICAgICBsYWJlbDogcGlja0ZpcnN0U3RyaW5nKGl0ZW0sIFtcImxhYmVsXCIsIFwibmFtZVwiXSkgPz8gbmFtZSxcbiAgICAgICAgdW5pdFByaWNlOiBmaW5hbFVuaXRQcmljZSxcbiAgICAgICAgdW5pdF9wcmljZTogZmluYWxVbml0UHJpY2UsXG4gICAgICAgIHByaWNlOiBmaW5hbFVuaXRQcmljZSxcbiAgICAgICAgdG90YWxQcmljZTogZmluYWxUb3RhbFByaWNlLFxuICAgICAgICBsaW5lVG90YWw6IGZpbmFsVG90YWxQcmljZSxcbiAgICAgICAgbGluZV90b3RhbDogZmluYWxUb3RhbFByaWNlLFxuICAgICAgICB2YXJpYW50TGFiZWw6XG4gICAgICAgICAgdHlwZW9mIGl0ZW0udmFyaWFudF9sYWJlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBpdGVtLnZhcmlhbnRfbGFiZWxcbiAgICAgICAgICAgIDogdHlwZW9mIGl0ZW0udmFyaWFudExhYmVsID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgID8gaXRlbS52YXJpYW50TGFiZWxcbiAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICBkdXJhdGlvbkxhYmVsOlxuICAgICAgICAgICh0eXBlb2YgaXRlbS5kdXJhdGlvbl9sYWJlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBpdGVtLmR1cmF0aW9uX2xhYmVsXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCkgPz9cbiAgICAgICAgICAodHlwZW9mIGl0ZW0uZHVyYXRpb25MYWJlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBpdGVtLmR1cmF0aW9uTGFiZWxcbiAgICAgICAgICAgIDogdW5kZWZpbmVkKSA/P1xuICAgICAgICAgIGR1cmF0aW9uTGFiZWxGcm9tQ2Fub25pY2FsKGNhbm9uaWNhbF9kYXlfc2V0KSxcbiAgICAgICAgY2Fub25pY2FsX2RheV9zZXQsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gNikgRm9yY2UgaXRlbS1sZXZlbCBwcmljZXMgZnJvbSBvcmRlciB0b3RhbHMgd2hlbiBEQiBzdG9yZXMgb25seSBvcmRlciB0b3RhbFxuICAgIC8vICh5b3VyIGxvZ3Mgc2hvdyB0aGlzIGV4YWN0IHNjZW5hcmlvKVxuICAgIGNvbnN0IGFsbEl0ZW1zTWlzc2luZ1ByaWNlcyA9XG4gICAgICBub3JtYWxpemVkSXRlbXMubGVuZ3RoID4gMCAmJlxuICAgICAgbm9ybWFsaXplZEl0ZW1zLmV2ZXJ5KFxuICAgICAgICAoaSkgPT5cbiAgICAgICAgICB0b051bWJlcihpLnRvdGFsUHJpY2UgPz8gaS5saW5lVG90YWwpIDw9IDAgJiZcbiAgICAgICAgICB0b051bWJlcihpLnVuaXRQcmljZSA/PyBpLnByaWNlKSA8PSAwLFxuICAgICAgKTtcblxuICAgIGlmIChhbGxJdGVtc01pc3NpbmdQcmljZXMgJiYgb3JkZXJMZXZlbERpc3BsYXlBbW91bnQgPiAwKSB7XG4gICAgICBjb25zdCB0b3RhbFF0eSA9IG5vcm1hbGl6ZWRJdGVtcy5yZWR1Y2UoXG4gICAgICAgIChzdW0sIGkpID0+IHN1bSArIE1hdGgubWF4KDEsIHRvTnVtYmVyKGkucXR5ID8/IGkucXVhbnRpdHkpKSxcbiAgICAgICAgMCxcbiAgICAgICk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkSXRlbXMubGVuZ3RoID09PSAxIHx8IHRvdGFsUXR5IDw9IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBub3JtYWxpemVkSXRlbXNbMF07XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgIGNvbnN0IHF0eSA9IE1hdGgubWF4KDEsIHRvTnVtYmVyKGZpcnN0LnF0eSA/PyBmaXJzdC5xdWFudGl0eSkpO1xuICAgICAgICAgIGZpcnN0LnRvdGFsUHJpY2UgPSBvcmRlckxldmVsRGlzcGxheUFtb3VudDtcbiAgICAgICAgICBmaXJzdC5saW5lVG90YWwgPSBvcmRlckxldmVsRGlzcGxheUFtb3VudDtcbiAgICAgICAgICBmaXJzdC5saW5lX3RvdGFsID0gb3JkZXJMZXZlbERpc3BsYXlBbW91bnQ7XG4gICAgICAgICAgZmlyc3QudW5pdFByaWNlID0gb3JkZXJMZXZlbERpc3BsYXlBbW91bnQgLyBxdHk7XG4gICAgICAgICAgZmlyc3QudW5pdF9wcmljZSA9IGZpcnN0LnVuaXRQcmljZTtcbiAgICAgICAgICBmaXJzdC5wcmljZSA9IGZpcnN0LnVuaXRQcmljZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUHJvcG9ydGlvbmFsIGJ5IHF1YW50aXR5IChiZXN0IHBvc3NpYmxlIHdoZW4gbm8gcGVyLWl0ZW0gcHJpY2VzIGV4aXN0KVxuICAgICAgICBsZXQgcmVtYWluaW5nID0gTWF0aC5yb3VuZChvcmRlckxldmVsRGlzcGxheUFtb3VudCAqIDEwMCkgLyAxMDA7XG4gICAgICAgIGxldCByZW1haW5pbmdRdHkgPSB0b3RhbFF0eTtcblxuICAgICAgICBub3JtYWxpemVkSXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgY29uc3QgcXR5ID0gTWF0aC5tYXgoMSwgdG9OdW1iZXIoaXRlbS5xdHkgPz8gaXRlbS5xdWFudGl0eSkpO1xuXG4gICAgICAgICAgaWYgKGlkeCA9PT0gbm9ybWFsaXplZEl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHJlbWFpbmluZyAqIDEwMCkgLyAxMDApO1xuICAgICAgICAgICAgaXRlbS50b3RhbFByaWNlID0gbGluZTtcbiAgICAgICAgICAgIGl0ZW0ubGluZVRvdGFsID0gbGluZTtcbiAgICAgICAgICAgIGl0ZW0ubGluZV90b3RhbCA9IGxpbmU7XG4gICAgICAgICAgICBpdGVtLnVuaXRQcmljZSA9IHF0eSA+IDAgPyBsaW5lIC8gcXR5IDogbGluZTtcbiAgICAgICAgICAgIGl0ZW0udW5pdF9wcmljZSA9IGl0ZW0udW5pdFByaWNlO1xuICAgICAgICAgICAgaXRlbS5wcmljZSA9IGl0ZW0udW5pdFByaWNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHByb3BvcnRpb25hbCA9XG4gICAgICAgICAgICByZW1haW5pbmdRdHkgPiAwID8gKHJlbWFpbmluZyAqIHF0eSkgLyByZW1haW5pbmdRdHkgOiAwO1xuICAgICAgICAgIGNvbnN0IGxpbmUgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHByb3BvcnRpb25hbCAqIDEwMCkgLyAxMDApO1xuXG4gICAgICAgICAgaXRlbS50b3RhbFByaWNlID0gbGluZTtcbiAgICAgICAgICBpdGVtLmxpbmVUb3RhbCA9IGxpbmU7XG4gICAgICAgICAgaXRlbS5saW5lX3RvdGFsID0gbGluZTtcbiAgICAgICAgICBpdGVtLnVuaXRQcmljZSA9IHF0eSA+IDAgPyBsaW5lIC8gcXR5IDogbGluZTtcbiAgICAgICAgICBpdGVtLnVuaXRfcHJpY2UgPSBpdGVtLnVuaXRQcmljZTtcbiAgICAgICAgICBpdGVtLnByaWNlID0gaXRlbS51bml0UHJpY2U7XG5cbiAgICAgICAgICByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKChyZW1haW5pbmcgLSBsaW5lKSAqIDEwMCkgLyAxMDApO1xuICAgICAgICAgIHJlbWFpbmluZ1F0eSAtPSBxdHk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJbR0VUIC9hcGkvb3JkZXIvcHVibGljXSBmb3JjZWQgaXRlbSBwcmljZSBmYWxsYmFjayBmcm9tIG9yZGVyIHRvdGFsc1wiLFxuICAgICAgICB7XG4gICAgICAgICAgb3JkZXJMZXZlbFN1YnRvdGFsLFxuICAgICAgICAgIG9yZGVyTGV2ZWxGZWVzLFxuICAgICAgICAgIG9yZGVyTGV2ZWxEaXNjb3VudCxcbiAgICAgICAgICBvcmRlckxldmVsVG90YWwsXG4gICAgICAgICAgb3JkZXJMZXZlbERpc3BsYXlBbW91bnQsXG4gICAgICAgICAgaXRlbXM6IG5vcm1hbGl6ZWRJdGVtcy5tYXAoKGkpID0+ICh7XG4gICAgICAgICAgICBpZDogaS5pZCxcbiAgICAgICAgICAgIHF0eTogaS5xdHksXG4gICAgICAgICAgICB1bml0UHJpY2U6IGkudW5pdFByaWNlLFxuICAgICAgICAgICAgdG90YWxQcmljZTogaS50b3RhbFByaWNlLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIltHRVQgL2FwaS9vcmRlci9wdWJsaWNdIG5vcm1hbGl6ZWQgaXRlbXMgc3VtbWFyeTpcIixcbiAgICAgIG5vcm1hbGl6ZWRJdGVtcy5tYXAoKGkpID0+ICh7XG4gICAgICAgIGlkOiBpLmlkLFxuICAgICAgICBjYXRlZ29yeTogaS5jYXRlZ29yeSxcbiAgICAgICAgcXR5OiBpLnF0eSxcbiAgICAgICAgdW5pdFByaWNlOiBpLnVuaXRQcmljZSxcbiAgICAgICAgdG90YWxQcmljZTogaS50b3RhbFByaWNlLFxuICAgICAgICBuYW1lOiBpLm5hbWUsXG4gICAgICB9KSksXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbXB1dGVkVG90YWxJdGVtcyA9IG5vcm1hbGl6ZWRJdGVtcy5yZWR1Y2UoXG4gICAgICAoc3VtLCBpdGVtKSA9PiBzdW0gKyB0b051bWJlcihpdGVtLnF0eSA/PyBpdGVtLnF1YW50aXR5KSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbXB1dGVkSXRlbXNBbW91bnQgPSBub3JtYWxpemVkSXRlbXMucmVkdWNlKFxuICAgICAgKHN1bSwgaXRlbSkgPT4gc3VtICsgdG9OdW1iZXIoaXRlbS50b3RhbFByaWNlID8/IGl0ZW0ubGluZVRvdGFsKSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgb3JkZXI6IHtcbiAgICAgICAgaWQ6IG9yZGVyQW55LmlkLFxuICAgICAgICBwdWJsaWNUb2tlbjogb3JkZXJBbnkucHVibGljX3Rva2VuLFxuICAgICAgICBzdGF0dXM6IG9yZGVyQW55LnN0YXR1cyA/PyBudWxsLFxuICAgICAgICBjdXJyZW5jeTogb3JkZXJBbnkuY3VycmVuY3kgPz8gXCJST05cIixcblxuICAgICAgICBoYXNWaXA6XG4gICAgICAgICAgdHlwZW9mIG9yZGVyQW55Lmhhc192aXAgPT09IFwiYm9vbGVhblwiXG4gICAgICAgICAgICA/IG9yZGVyQW55Lmhhc192aXBcbiAgICAgICAgICAgIDogbm9ybWFsaXplZEl0ZW1zLnNvbWUoKGkpID0+IGkuY2F0ZWdvcnkgPT09IFwidmlwXCIpLFxuXG4gICAgICAgIHRvdGFsSXRlbXM6XG4gICAgICAgICAgdG9OdW1iZXIob3JkZXJBbnkudG90YWxfaXRlbXMpID4gMFxuICAgICAgICAgICAgPyB0b051bWJlcihvcmRlckFueS50b3RhbF9pdGVtcylcbiAgICAgICAgICAgIDogY29tcHV0ZWRUb3RhbEl0ZW1zLFxuXG4gICAgICAgIC8vIFByZWZlciBpdGVtLXN1bSBpZiBjb21wdXRlZDsgZWxzZSBvcmRlciB0b3RhbDsgZWxzZSBzdWJ0b3RhbFxuICAgICAgICB0b3RhbEFtb3VudDpcbiAgICAgICAgICBjb21wdXRlZEl0ZW1zQW1vdW50ID4gMFxuICAgICAgICAgICAgPyBNYXRoLnJvdW5kKGNvbXB1dGVkSXRlbXNBbW91bnQgKiAxMDApIC8gMTAwXG4gICAgICAgICAgICA6IG9yZGVyTGV2ZWxEaXNwbGF5QW1vdW50ID4gMFxuICAgICAgICAgICAgICA/IE1hdGgucm91bmQob3JkZXJMZXZlbERpc3BsYXlBbW91bnQgKiAxMDApIC8gMTAwXG4gICAgICAgICAgICAgIDogb3JkZXJMZXZlbFN1YnRvdGFsLFxuXG4gICAgICAgIGl0ZW1zOiBub3JtYWxpemVkSXRlbXMsXG4gICAgICAgIHZpcFRhYmxlU2VsZWN0aW9uOiB2aXBUYWJsZVNlbGVjdGlvbiA/PyB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW0dFVCAvYXBpL29yZGVyL3B1YmxpY10gdW5leHBlY3RlZCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiZ2V0U3VwYWJhc2VBZG1pbiIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzZXJ2aWNlUm9sZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJFcnJvciIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJ0b051bWJlciIsInZhbHVlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJjbGVhbmVkIiwicmVwbGFjZSIsInRyaW0iLCJuIiwibm9ybWFsaXplRGF5Q29kZSIsImlucHV0IiwidiIsIlN0cmluZyIsInRvVXBwZXJDYXNlIiwiY2Fub25pY2FsRGF5U2V0RnJvbUNvZGVzIiwiZGF5Q29kZXMiLCJ1bmlxdWUiLCJBcnJheSIsImZyb20iLCJTZXQiLCJtYXAiLCJkIiwiZmlsdGVyIiwiQm9vbGVhbiIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm9yZGVyIiwic29ydGVkIiwic29ydCIsImEiLCJiIiwiaW5kZXhPZiIsImpvaW4iLCJkdXJhdGlvbkxhYmVsRnJvbUNhbm9uaWNhbCIsImNhbm9uaWNhbCIsInBhcnRzIiwic3BsaXQiLCJwaWNrRmlyc3ROdW1iZXIiLCJzb3VyY2UiLCJrZXlzIiwia2V5IiwicGlja0ZpcnN0U3RyaW5nIiwiR0VUIiwicmVxIiwidG9rZW4iLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic3VwYWJhc2UiLCJkYXRhIiwib3JkZXJSb3ciLCJvcmRlckVycm9yIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsImNvbnNvbGUiLCJvcmRlckFueSIsIm9yZGVySXRlbXNSb3dzIiwiaXRlbXNFcnJvciIsImlkIiwiYXNjZW5kaW5nIiwib3JkZXJJdGVtcyIsImxvZyIsIk9iamVjdCIsIml0ZW0iLCJjYXRlZ29yeSIsInF0eSIsInF1YW50aXR5Iiwic2VhdHMiLCJ0aWNrZXRzX2NvdW50IiwidW5pdF9wcmljZSIsInByaWNlIiwidW5pdFByaWNlIiwidG90YWxfcHJpY2UiLCJsaW5lX3RvdGFsIiwidG90YWwiLCJsaW5lVG90YWwiLCJhbW91bnQiLCJzdWJ0b3RhbCIsImZpbmFsX3ByaWNlIiwiZmluYWxQcmljZSIsInByb2R1Y3RfbmFtZV9zbmFwc2hvdCIsIm5hbWUiLCJsYWJlbCIsIml0ZW1JZHMiLCJpIiwiaXRlbURheXNSb3dzIiwiZGF5c0RhdGEiLCJkYXlzRXJyb3IiLCJpbiIsIndhcm4iLCJkYXlzQnlJdGVtSWQiLCJNYXAiLCJyb3ciLCJpdGVtSWQiLCJvcmRlcl9pdGVtX2lkIiwicmF3RGF5IiwiZGF5X2NvZGUiLCJldmVudF9kYXlfY29kZSIsImNvZGUiLCJkYXkiLCJkYXlDb2RlIiwiYXJyIiwicHVzaCIsInNldCIsInZpcFRhYmxlU2VsZWN0aW9uIiwidmlwX3RhYmxlX3NlbGVjdGlvbiIsInZpcFJlc2VydmF0aW9ucyIsInZpcFJlc0VyciIsInNlbGVjdGVkVGFibGVzIiwiciIsInQiLCJ2aXBfdGFibGVzIiwidGFibGVfbnVtYmVyIiwidmlwX3RhYmxlX2lkIiwiYXNzaWduZWRWaXBUaWNrZXRzIiwicmVkdWNlIiwic3VtIiwic2VhdHNfcmVzZXJ2ZWQiLCJzZWF0c19jb3VudCIsInJlc2VydmVkX3NlYXRzIiwic2VsZWN0ZWRUYWJsZSIsInRhYmxlc1JlcXVpcmVkIiwib3JkZXJMZXZlbFN1YnRvdGFsIiwib3JkZXJMZXZlbEZlZXMiLCJvcmRlckxldmVsRGlzY291bnQiLCJvcmRlckxldmVsVG90YWwiLCJvcmRlckxldmVsRGlzcGxheUFtb3VudCIsIk1hdGgiLCJtYXgiLCJub3JtYWxpemVkSXRlbXMiLCJpbmRleCIsInJhd1VuaXRQcmljZSIsInByaWNlX3Blcl91bml0IiwidW5pdF9hbW91bnQiLCJhbW91bnRfcGVyX3VuaXQiLCJwcmljZV9yb24iLCJ1bml0X3ByaWNlX3JvbiIsInJhd1RvdGFsUHJpY2UiLCJ0b3RhbEFtb3VudCIsInRvdGFsX2Ftb3VudCIsImdyb3NzX3RvdGFsIiwidG90YWxfcm9uIiwibGluZV90b3RhbF9yb24iLCJzdWJ0b3RhbF9yb24iLCJ0b3RhbFByaWNlIiwiZmluYWxUb3RhbFByaWNlIiwiZmluYWxVbml0UHJpY2UiLCJyYXdRdHkiLCJwYXJzZWQiLCJyYXdQcmljZUZpZWxkcyIsIml0ZW1EYXlDb2RlcyIsImNhbm9uaWNhbF9kYXlfc2V0IiwidG9Mb3dlckNhc2UiLCJ2YXJpYW50TGFiZWwiLCJ2YXJpYW50X2xhYmVsIiwiZHVyYXRpb25MYWJlbCIsImR1cmF0aW9uX2xhYmVsIiwiYWxsSXRlbXNNaXNzaW5nUHJpY2VzIiwiZXZlcnkiLCJ0b3RhbFF0eSIsImZpcnN0IiwicmVtYWluaW5nIiwicm91bmQiLCJyZW1haW5pbmdRdHkiLCJmb3JFYWNoIiwiaWR4IiwibGluZSIsInByb3BvcnRpb25hbCIsIml0ZW1zIiwiY29tcHV0ZWRUb3RhbEl0ZW1zIiwiY29tcHV0ZWRJdGVtc0Ftb3VudCIsInJlc3BvbnNlIiwicHVibGljVG9rZW4iLCJwdWJsaWNfdG9rZW4iLCJjdXJyZW5jeSIsImhhc1ZpcCIsImhhc192aXAiLCJzb21lIiwidG90YWxJdGVtcyIsInRvdGFsX2l0ZW1zIiwiaGVhZGVycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/order/public/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forder%2Fpublic%2Froute&page=%2Fapi%2Forder%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forder%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forder%2Fpublic%2Froute&page=%2Fapi%2Forder%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forder%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_mihneasmacbookair_Desktop_Work_banaton_fest_app_api_order_public_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/order/public/route.ts */ \"(rsc)/./app/api/order/public/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/order/public/route\",\n        pathname: \"/api/order/public\",\n        filename: \"route\",\n        bundlePath: \"app/api/order/public/route\"\n    },\n    resolvedPagePath: \"/Users/mihneasmacbookair/Desktop/Work/banaton-fest/app/api/order/public/route.ts\",\n    nextConfigOutput,\n    userland: _Users_mihneasmacbookair_Desktop_Work_banaton_fest_app_api_order_public_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlciUyRnB1YmxpYyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGb3JkZXIlMkZwdWJsaWMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZvcmRlciUyRnB1YmxpYyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1paG5lYXNtYWNib29rYWlyJTJGRGVza3RvcCUyRldvcmslMkZiYW5hdG9uLWZlc3QlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbWlobmVhc21hY2Jvb2thaXIlMkZEZXNrdG9wJTJGV29yayUyRmJhbmF0b24tZmVzdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZ0M7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9taWhuZWFzbWFjYm9va2Fpci9EZXNrdG9wL1dvcmsvYmFuYXRvbi1mZXN0L2FwcC9hcGkvb3JkZXIvcHVibGljL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9vcmRlci9wdWJsaWMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vcmRlci9wdWJsaWNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL29yZGVyL3B1YmxpYy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9taWhuZWFzbWFjYm9va2Fpci9EZXNrdG9wL1dvcmsvYmFuYXRvbi1mZXN0L2FwcC9hcGkvb3JkZXIvcHVibGljL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forder%2Fpublic%2Froute&page=%2Fapi%2Forder%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forder%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Forder%2Fpublic%2Froute&page=%2Fapi%2Forder%2Fpublic%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forder%2Fpublic%2Froute.ts&appDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmihneasmacbookair%2FDesktop%2FWork%2Fbanaton-fest&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();